from flask import Flask, request, Markup

app = Flask(__name__)

@app.route('/', methods=['GET', 'POST'])
def index():
    if request.method == 'POST':
        user_input = request.form['user_input']
        return """
        <html lang="en" className="scroll-smooth">
            <head>
                <meta charset="UTF-8">
                <title>Repetição do usuário</title>
            </head>
            <body>
                <form action="" method="post">
                    <label for="user_input">Digite algo:</label>
                    <input type="text" name="user_input" id="user_input" value="{}">
                    <input type="submit" value="Enviar">
                </form>
                <p>{}</p></body>
        """.format(Markup.escape(user_input), Markup.escape(user_input))
    return """
        <html lang="en" className="scroll-smooth">
            <head>
                <meta charset="UTF-8">
                <title>Repetição do usuário</title>
            </head>
            <body>
                <form action="" method="post">
                    <label for="user_input">Digite algo:</label>
                    <input type="text" name="user_input" id="user_input">
                    <input type="submit" value="Enviar">
                </form>
            </body>
        """

if __name__ == '__main__':
    app.run()

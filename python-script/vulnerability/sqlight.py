import sqlite3

def execute_query(db_name, query, params=None):
    conn = sqlite3.connect(db_name)
    cur = conn.cursor()
    try:
        if params is None:
            cur.execute(query)
        else:
            cur.execute(query, params)
        rows = cur.fetchall()
        conn.commit()
    except sqlite3.Error as e:
        print("Erro ao executar a consulta:", e)
    finally:
        conn.close()
    return rows
